\section{\ExercisePrefixElevator Eigene Arrays \optional}
\optionaltextbox
\label{sec:array}
\label{sec:customArrays}

Nachdem du bei unseren Übungen zu Arrays gesehen hast, dass es störend ist, wenn man die Größe eines Arrays immer getrennt zu den gespeicherten Daten verwalten muss, ist ein sinnvoller Schritt, eine eigene Array-Klasse zu implementieren, die Daten und Größe des Arrays zusammen speichert.

Eine möglicher Anwendungsfall sieht so aus:

\cpppInputListing{04_advanced/problems/listings/customArrays_example.cpp}

\hints{
\item
Überlege dir, welche Operatoren/Methoden das obige Code-Beispiel von Array verlangt.
Unter anderem musst du jeweils einen \lstinline{const} und einen nicht-\lstinline{const} \lstinline{operator[]} implementieren.

\item 
Du kannst auch Exceptions (z.B. \lstinline{std::out_of_range} aus \lstinline{<stdexcept>}) verwenden, um falsche Indices korrekt abzufangen.

\item 
Eine fortgeschrittene Übung ist es, Iteratoren für \lstinline{Array} bereitzustellen, sodass du z.B. die Funktion \lstinline{std::copy} aus der Standardbibliothek verwenden kannst, um ein Array zu kopieren:

\cpppInputListing{04_advanced/problems/listings/customArrays_vector.cpp}

Da \lstinline{std::copy} als ersten und zweiten Parameter einen Typ erwartet, der das Interface eines \lstinline{InputIterator}s erfüllt, ist es sinnvoll, dass du eine zusätzliche Iterator-Klasse implementierst.
Dazu kannst du dich an \url{http://en.cppreference.com/w/cpp/concept/InputIterator} orientieren, um die nötigen Operatoren zu überladen.
Falls deine Array-Klasse auch durch einen \lstinline{std::copy}-Aufruf gefüllt werden können soll, benötigst du außerdem alle Operatoren des \lstinline{OutputIterator}-Interfaces: \url{http://en.cppreference.com/w/cpp/concept/OutputIterator}.
Ist es auch sinnvoll, die Klasse \lstinline|Array| kompatibel mit \lstinline|std::back_insert_iterator| zu machen?

\item
Denke daran, für Indizes den Typ \lstinline$size_t$ zu verwenden.

\item
Diese Idee ist natürlich nicht neu.
Seit C++11 gibt es eine Array-Implementation in der C++-Standardbibliothek (\lstinline{std::array}\footnote{\url{http://www.boost.org/doc/libs/1_55_0/doc/html/array.html}}).
Du findest die gleiche Klasse auch als \lstinline{boost::array} in Boost.
}
